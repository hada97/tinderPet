<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="favicon-16x16.png" />
    <link rel="stylesheet" href="style.css" />
    <script defer src="script.js"></script>
    <title>Dog</title>
  </head>
  <body>
    <!-- Barra de navegação com o nome do usuário e botão de logout -->
    <header>
      <nav>
        <ul>
          <li><a href="/home">Home</a></li>
          <li><a href="/profile">Perfil</a></li>

          <li>
            <span id="user-name"></span>
          </li>

          <li><button onclick="logout()">Sair</button></li>
        </ul>
      </nav>
    </header>

    <div class="main-container">
      <!-- Container lateral para adicionar um novo cachorro -->
      <div class="add-container">
        <div class="add-icon" id="addIcon">
          <span>+</span>
        </div>

        <div class="add-form" id="addForm" style="display: none">
          <form id="dogForm">
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" required />

            <label for="age">Age:</label>
            <input type="number" id="age" name="age" required />

            <label for="breed">Breed:</label>
            <input type="text" id="breed" name="breed" required />

            <label for="gender">Gender:</label>
            <select id="gender" name="gender" required>
              <option value="MALE">Male</option>
              <option value="FEMALE">Female</option>
            </select>

            <label for="size">Size:</label>
            <select id="size" name="size" required>
              <option value="SMALL">Small</option>
              <option value="MEDIUM">Medium</option>
              <option value="LARGE">Large</option>
            </select>

            <label for="profilePictureUrl">Photo URL:</label>
            <input
              type="url"
              id="profilePictureUrl"
              name="profilePictureUrl"
              required
            />

            <label for="description">Description:</label>
            <textarea id="description" name="description"></textarea>

            <label for="isNeutered">Is Neutered?</label>
            <input type="checkbox" id="isNeutered" name="isNeutered" />

            <label for="userId">User ID:</label>
            <input type="number" id="userId" name="userId" required />

            <button type="submit">Submit</button>
          </form>
        </div>
      </div>

      <!-- Container da parte direita (com a imagem e as informações) -->
      <div class="dog-container">
        <div class="dog__image-container">
          <img
            src="#"
            alt="dog image"
            class="dog__image"
            style="display: none"
          />
        </div>

        <div class="dog__info-container">
          <div class="dog__details">
            <h1 class="dog__data">
              <span class="dog__name"></span>
            </h1>
            <p class="dog__description"></p>
            <p class="dog__age"></p>
            <p class="dog__breed"></p>
            <p class="dog__size"></p>
            <p class="dog__gender"></p>
            <p class="dog__neutered"></p>
          </div>
        </div>

        <div class="controle">
          <form class="form">
            <input
              type="search"
              class="input__search"
              placeholder="Search by Name"
              required
            />
          </form>

          <div class="buttons">
            <button class="button btn-left">X</button>
            <button class="button btn-right">❤️</button>
          </div>

          <!-- Botões de navegação -->
          <div class="buttons">
            <button class="button btn-prev">Prev &lt;</button>
            <button class="button btn-next">Next &gt;</button>
          </div>
        </div>
      </div>

      <div class="preloader hidden" id="preloader">
        <div class="loader" id="loader"></div>
      </div>
    </div>

    <script>
      function logout() {
         alert("Você saiu!");
         window.location.href = "/login";
     }

     fetch("http://localhost:8080/api/user/profile", {
         headers: {
             Authorization: `Bearer ${token}`, // Envia o token no cabeçalho
         },
     })
         .then((response) => response.json())
         .then((data) => {
             document.getElementById("user-name").innerText = data.name;
         })
         .catch((error) => {
             console.error("Erro ao carregar o nome do usuário:", error);
             document.getElementById("user-name").innerText = "Erro ao carregar o nome";
         });

    </script>
  </body>
</html>
